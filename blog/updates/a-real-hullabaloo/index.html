<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="contact" data-encoded="K1@CEzmD8.uu" data-key="PDjVWvBdECAURGxYo96mqHJ73T5M1Qt4pw0ZNrhOLsflnicFazgeSIyX8Kubk2">
    <title>Preparing for a real hullabaloo | burden.cc</title>
    <link rel="stylesheet" type="text/css" href="/assets/style-d697eee753076c1efe73d1ff75c4854b1d90dd4b543213ab7385af785ef71d5e.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
  </head>
  <body>
    <nav class="navbar is-primary" role="navigation" aria-label="main navigation"><div class="container">
  <div class="navbar-brand" role="navigation" aria-label="main navigation">
    <div class="navbar-item is-hidden-desktop"><span class="title is-6 has-text-white-ter">burden.cc</span></div>
    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
      <span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span>
    </a>
  </div>

  <div class="navbar-menu" id="navbarBasicExample">
    <div class="navbar-centered">
      <a class="navbar-item" href="/">
        <span class="icon"> <i class="fas fa-home"></i> </span>
      </a>

      <a class="navbar-item has-text-weight-semibold" href="/blog">Blog</a>
    </div>
  </div>
</div>
</nav>
<section class="section section-normalize section-blog-post">
  <article class="container">
    <header class="header has-text-centered">
      <div class="tags is-centered">
         <span class="tag is-size-7 is-primary has-text-weight-bold">Walkthrough</span>  <span class="tag is-size-7 is-primary has-text-weight-bold">Jekyll</span> 
      </div>
      <h1 class="title is-1 has-text-weight-semibold">Preparing for a real hullabaloo</h1>
       
      <p class="subtitle is-6">Sep 24, 2018 &middot; 6 min</p>
    </header>
    <div class="columns is-desktop">
      <div class="column column-post-left is-9-desktop">
        <div class="content has-text-weight-normal"><p>This last one’s about building out the pages for the blog, so that I can use the home page for something else.</p>

<p>In this edition, we’re gonna be adding a page for this blog to call home. Then we’ll build out the template for articles and add some navigation.</p>

<p>Before we get started, create a new branch and open another beer.</p>

<pre><code>$ git checkout -b blog
</code></pre>

<h2 id="dependencies">Dependencies</h2>

<p>First we need to add a library to our project to handle pagination. We’ll get into it later in this article, but we need to add one to produce redirects as well.</p>

<p>Edit the <code>Gemfile</code> then add <code>jekyll-paginate</code> and <code>jekyll-redirect-from</code> to the <code>:jekyll_plugins</code> block.</p>

<pre><code>group :jekyll_plugins do
  ...
  gem "jekyll-paginate"
  gem "jekyll-redirect-from"
end
</code></pre>

<p>Next you’ll need to make some additions to <code>_config.yml</code>. First add <code>jekyll-paginate</code> and <code>jekyll-redirect-from</code> to the <code>plugins:</code> block.</p>

<pre><code>plugins:
  ...
  - jekyll-paginate
  - jekyll-redirect-from
</code></pre>

<p>For contextual purposes, we want to keep everything in the address bar that’s blog related behind <code>/blog/</code>. To do that, add directives for pagination, and permalink.</p>

<pre><code>...
paginate: 4
paginate_path: /blog/:num/
permalink: /blog/:categories/:title
</code></pre>

<p>As you may have been able to deduce, we’ll end up with paginated pages at <code>/blog/2/</code> and articles at <code>/blog/category/article-title</code></p>

<p>With dependencies in place we can get started on our next tasks.</p>

<h2 id="blog-pages">Blog Pages</h2>

<p>In the spirit of displaying our collection of articles in a reasonable manner, the blog’s home page will be…</p>

<ul>
  <li>located at <code>/blog/</code></li>
  <li>paginated</li>
  <li>with the newest article displayed first</li>
  <li>4 articles per page</li>
  <li>each article displayed within 1 column of a 2x2 square</li>
  <li>bonus! a featured article at the top of page 1</li>
</ul>

<p>Sounds pretty straight forward, so let’s get started.</p>

<p>On the subject of listing articles, we’re going to build an article preview that can be included throughout the site. It’ll accept two arguments. A <code>post</code> object containing the post to preview, and a boolean called <code>box</code> to indicate whether or not you’d like the preview to include the box class.</p>

<p><code>_includes/article-preview.html</code></p>

<pre><code>
&lt;article{% unless include.box == false %} class="box"{% endunless%}&gt;
  &lt;h3 class="title"&gt;&lt;a href="{{ include.post.url | relative_url }}"&gt;{{ include.post.title | escape }}&lt;/a&gt;&lt;/h3&gt;
  {% assign topic = post.categories.first %}
  &lt;p class="subtitle"&gt;{% if topic %}in {{ topic }} {% endif %}{{ include.post.date | date: "%b %-d, %Y" }}&lt;/p&gt;
  &lt;div class="content"&gt;
  {{ include.post.excerpt }}
  &lt;/div&gt;
  &lt;a href="{{ include.post.url }}" class="button is-primary is-outlined"&gt;Keep reading&lt;/a&gt;
&lt;/article&gt;

</code></pre>

<p>With that out of the way, let’s start working on our blog page. Create a <code>/blog/</code> directory, and add an <code>index.html</code> file.</p>

<pre><code>$ mkdir src/blog
</code></pre>

<p><code>src/blog/index.html</code></p>

<pre><code>
---
layout: page
---
{% if paginator.page == 1 %}
&lt;section class="hero is-primary"&gt;
  &lt;div class="hero-body"&gt;
    &lt;div class="container"&gt;
      &lt;h1 class="title"&gt;
        Featured
      &lt;/h1&gt;
      {% assign featured = site.posts.last %}
      {% include article-preview.html post=featured %}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/section&gt;
{% endif %}
&lt;section class="section section-blog-page"&gt;
  &lt;div class="container"&gt;
    &lt;h2 class="title"&gt;{% if paginator.page == 1 %}Latest{% else %}Page {{ paginator.page }}{% endif %}&lt;/h2&gt;
    &lt;div class="columns is-multiline"&gt;
      {%- for post in paginator.posts -%}
        &lt;div class="column is-half"&gt;
        {% include article-preview.html post=post box=false %}
        &lt;/div&gt;
      {%- endfor -%}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/section&gt;

</code></pre>

<p>At this point we can implement pagination with the help of Bulma’s <a href="https://bulma.io/documentation/components/pagination/">pagination</a> component.</p>

<p><code>_includes/nav-pagination.html</code></p>

<pre><code>
{% if paginator.total_pages &gt; 1 %}
&lt;nav class="pagination is-right" role="navigation" aria-label="pagination"&gt;
  &lt;a {% if paginator.previous_page %}href="{{ paginator.previous_page_path }}"{% endif %} class="pagination-previous"{% unless paginator.previous_page %} disabled{% endunless %}&gt;Previous&lt;/a&gt;
  &lt;a {% if paginator.next_page %}href="{{ paginator.next_page_path }}"{% endif %} class="pagination-next"{% unless paginator.next_page %} disabled{% endunless %}&gt;Next&lt;/a&gt;
  &lt;ul class="pagination-list"&gt;
  {% for page in (1..paginator.total_pages)%}
    {% capture page-url %}{% if page == 1 %}{{ site.paginate_path | replace: ':num/', '' }}{% else %}{{ site.paginate_path | replace: ':num', page }}{% endif %}{% endcapture %}
    &lt;li&gt;&lt;a href="{{ page-url | prepend: site.baseurl | prepend: site.url }}" class="pagination-link{% if page == paginator.page %} is-current{% endif %}"&gt;{{ page }}&lt;/a&gt;&lt;/li&gt;
  {% endfor %}
  &lt;/ul&gt;
&lt;/nav&gt;
{% endif %}

</code></pre>

<p>To wrap things up for the blog page, we’ll add <code>nav-pagination.html</code> under the articles in <code>/src/blog/index.html</code>.</p>

<pre><code>
&lt;hr&gt;
{% include nav-pagination.html %}

</code></pre>

<h2 id="articles">Articles</h2>

<p>Display header</p>

<ul>
  <li>Title of article as H1</li>
  <li>Display article tags above Title</li>
  <li>Display date beneath Title</li>
  <li>Show article contents under Title</li>
</ul>

<pre><code>
&lt;section class="section section-blog-post"&gt;
  &lt;article class="container"&gt;
    &lt;header class="header has-text-centered"&gt;
      &lt;div class="tags is-centered"&gt;
        {% for tag in page.tags %}
          &lt;span class="tag"&gt;{{ tag | capitalize }}&lt;/span&gt;
        {% endfor %}
      &lt;/div&gt;
      &lt;h1 class="title"&gt;{{ page.title }}&lt;/h1&gt;
      &lt;p class="subtitle"&gt;{{ page.date | date: "%b %d, %Y" }}&lt;/p&gt;
    &lt;/header&gt;
    &lt;div class="content"&gt;
      {{ content }}
    &lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;

</code></pre>

<h2 id="getting-around">Getting around</h2>

<p>After our visitor has finished reading, you must be able to feed that voracious appetite with moar delicious content. We’ll need…</p>

<ul>
  <li>Links to the previous and next articles under the article</li>
  <li>The next 5 most recent articles to the right of the article</li>
  <li>Redirect category pages</li>
</ul>

<p>Ok, so let’s begin with the previous and next links. Jekyll is nice enough to provide us with <code>page.previous</code> and <code>page.next</code>. We’ll just need to be careful to check if we’re on the first or last post. In those instances we’ll just say “current page” and display the title as text.</p>

<p><code>/src/_includes/prev-next.html</code></p>

<pre><code>
&lt;div class="columns is-mobile"&gt;
  &lt;div class="column is-6"&gt;
    {% if page.previous %}
      &lt;h2&gt;Previous article&lt;/h2&gt;
      &lt;p&gt;&lt;a href="{{ page.previous.url | prepend: site.baseurl | prepend: site.url  }}" title="{{ page.previous.title }}" rel="prev"&gt;&amp;laquo; {{page.previous.title}}&lt;/a&gt;&lt;/p&gt;
    {% else %}
      &lt;h2&gt;Current article&lt;/h2&gt;
      {{page.title}}
    {% endif %}
  &lt;/div&gt;
  &lt;div class="column is-6 has-text-right"&gt;
    {% if page.next %}
      &lt;h2&gt;Next article&lt;/h2&gt;
      &lt;a href="{{ page.next.url | prepend: site.baseurl | prepend: site.url }}" title="{{ page.next.title }}" rel="next"&gt;{{page.next.title}} &amp;raquo;&lt;/a&gt;
    {% else %}
      &lt;h2&gt;Current article&lt;/h2&gt;
      {{page.title}}
    {% endif %}
  &lt;/div&gt;
&lt;/div&gt;

</code></pre>

<p>After saving, include it in <code>src/_layouts/post.html</code> under the article.</p>

<pre><code>
{% include prev-next.html %}

</code></pre>

<p>For our last edit to <code>src/_layouts/post.html</code> we’ll do a quick unordered list to show off the latest articles. Skip the current article.</p>

<pre><code>
&lt;ul&gt;
  {% for article in site.posts limit: 5 %}
  {% if article.title == page.title %}{% continue %}{% endif %}
  &lt;li&gt;&lt;a href="{{ article.url }}"&gt;{{ article.title }}&lt;/a&gt;&lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;

</code></pre>

<p>Finally, if you’ll recall how we setup article urls, each article is behind a category page (ex: /blog/<em style="color: #ff3860">category</em>/article-title). If a lookie-loo were to visit <code>/blog/category/</code> they would be treated to a generic index page (or perhaps a 404). Building out category pages is certainly on our todo list, but it’s out of scope for this round. Instead, we’re going to use that <code>jekyll-redirect-from</code> plugin to redirect requests over to <code>/blog/</code></p>

<p>Open <code>/src/blog/index.html</code> and update it’s frontmatter.</p>

<pre><code>...
redirect_from:
  - /blog/site-update/

</code></pre>

<p>For now, we only have one category to redirect. As you add articles with new categories, be sure to come back and update this block. On that note, if you want to create category pages at a later date, you’ll need to delete the relevant lines.</p>

<h2 id="final-thoughts">Final thoughts</h2>

<p>At last! We can wrap things up with a quick push to our remote repo for a PR.</p>

<pre><code>$ git add .
$ git commit -m "Upgrading blog"
$ git push origin blog
</code></pre>

<p>At this stage, we’re free to do what we need to do with the home page because we have an awesome new blog page. Not only that but we took the opportunity to give our articles a rudimentary sense of direction.</p>
</div>
        <section class="section section-normalize">
  <div class="columns is-mobile prev-next">
    <div class="column is-6">
      
        <h2 class="title is-7 has-text-grey-light">Previous article</h2>
        <p class="has-text-weight-semibold"><a href="/blog/updates/customize-pt2/" title="Getting settled in (part 2)" rel="prev">&laquo; Getting settled in (part 2)</a></p>
      
    </div>
    <div class="column is-6 has-text-right">
      
        <h2 class="title is-7 has-text-grey-light">Next article</h2>
        <p class="has-text-weight-semibold"><a href="/blog/updates/launch-notes/" title="Launch notes 🎉" rel="next">Launch notes 🎉 &raquo;</a></p>
      
    </div>
  </div>
</section>


      </div>
      <div class="column column-post-right is-3-desktop">
        <div class="columns is-multiline">
          <div class="column is-12-desktop is-12-tablet">
            <div class="box">
              <h2 class="title has-text-centered is-5 gumby gumbito">Latest Articles</h2>
              <ul class="has-text-centered-mobile latest">
                 
                <li>
                  <a class="is-size-6" href="/blog/updates/launch-notes/">Launch notes 🎉</a>
                </li>
                  
                <li>
                  <a class="is-size-6" href="/blog/updates/customize-pt2/">Getting settled in (part 2)</a>
                </li>
                 
                <li>
                  <a class="is-size-6" href="/blog/updates/customize-pt1/">Getting settled in (part 1)</a>
                </li>
                 
                <li>
                  <a class="is-size-6" href="/blog/updates/stage/">Continuous Integration, testing and staging</a>
                </li>
                
              </ul>
            </div>
          </div>
          <div class="column is-12-desktop is-6-tablet">
            <div class="box">
              <h2 class="title has-text-centered is-5 gumby gumbito">Topics</h2>
              <ul class="has-text-centered-mobile">
                
                <li>updates</li>
                
              </ul>
            </div>
          </div>
          <div class="column is-12-desktop is-6-tablet">
            <div class="box">
              <h2 class="title has-text-centered is-5 gumby gumbito">Tags</h2>
               
              <div class="tags is-centered">
                 <span class="tag tag5 is-primary has-text-weight-bold">Jekyll</span>  <span class="tag tag5 is-primary has-text-weight-bold">Walkthrough</span> 
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /columns -->
  </article>
</section>

    <footer class="footer has-text-weight-light">
  <div class="container">
    <div class="content has-text-centered">
      <p class="is-size-6"><a href="/">Home</a> &middot <a href="/blog">Blog</a></p>
      <p class="social-stacks">
  <a href="/feed.xml" target="_blank">
    <span class="icon is-medium">
      <span class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
    </span>
  </a>
  <a class="has-secret-mailto" target="_blank">
    <span class="icon is-medium">
      <span class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
    </span>
  </a>
  <a href="https://keybase.io/burden" target="_blank">
    <span class="icon is-medium">
      <span class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-key fa-stack-1x fa-inverse"></i>
      </span>
    </span>
  </a>
  <a href="https://github.com/burden" target="_blank">
    <span class="icon is-medium">
      <span class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github-alt fa-stack-1x fa-inverse"></i>
      </span>
    </span>
  </a>
  <a href="https://twitter.com/cheapexcitement" target="_blank">
    <span class="icon is-medium">
      <span class="fa-stack">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
    </span>
  </a>
</p>
      <p class="is-size-7">Website maintained by <a href="https://github.com/burden">@burden</a><br />The contents of this website are &copy; 2019 under the terms of the MIT License.</p>
      <p>
        <a href="https://github.com/burden/burdendotcc" class="button is-outlined is-small"
          ><span>view source</span><span class="icon"><i class="fab fa-github"></i></span
        ></a>
      </p>
    </div>
  </div>
</footer>

    <script src="/assets/main-402a8c9e8d6384d57942e24ae6f3449b4ff58cf086c0b9174cb05c282ce50b92.js" type="text/javascript"></script>
  </body>
</html>

